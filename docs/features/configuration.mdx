# Feature Configuration System

The feature configuration system allows you to enable/disable and configure various features of the application through environment variables.

## Basic Usage

\```typescript
import { featureConfig, isFeatureEnabled } from '@/config/features'

// Check if a feature is enabled
if (featureConfig.auth.enabled) {
// Authentication is enabled
}

// Use feature configuration values
cookies().set(featureConfig.auth.cookieName, token, {
maxAge: featureConfig.auth.sessionDuration
})

// Or use the helper function
if (isFeatureEnabled('security')) {
// Security features are enabled
}
\```

## Available Features

### Authentication (`auth`)

| Feature            | Environment Variable      | Default        | Description                   |
| ------------------ | ------------------------- | -------------- | ----------------------------- |
| Enabled            | `FEATURE_AUTH_ENABLED`    | `true`         | Enable/disable authentication |
| Cookie Name        | `AUTH_COOKIE_NAME`        | `'auth_token'` | Session cookie name           |
| Session Duration   | `AUTH_SESSION_DURATION`   | `3600000`      | Session length in ms          |
| Max Login Attempts | `AUTH_MAX_LOGIN_ATTEMPTS` | `5`            | Max failed login attempts     |

### Profiles (`profiles`)

| Feature       | Environment Variable       | Default | Description          |
| ------------- | -------------------------- | ------- | -------------------- |
| Enabled       | `FEATURE_PROFILES_ENABLED` | `true`  | Enable user profiles |
| Avatar Upload | `FEATURE_AVATAR_UPLOAD`    | `true`  | Allow avatar uploads |
| Social Links  | `FEATURE_SOCIAL_LINKS`     | `true`  | Enable social links  |

### Activity Logging (`activity`)

| Feature         | Environment Variable          | Default | Description             |
| --------------- | ----------------------------- | ------- | ----------------------- |
| Enabled         | `FEATURE_ACTIVITY_ENABLED`    | `true`  | Enable activity logging |
| Failed Attempts | `FEATURE_LOG_FAILED_ATTEMPTS` | `true`  | Log failed logins       |
| Device Info     | `FEATURE_LOG_DEVICE_INFO`     | `true`  | Log device details      |
| Location        | `FEATURE_LOG_LOCATION`        | `true`  | Log location data       |

### Security (`security`)

| Feature       | Environment Variable       | Default | Description              |
| ------------- | -------------------------- | ------- | ------------------------ |
| Enabled       | `FEATURE_SECURITY_ENABLED` | `true`  | Enable security features |
| Rate Limiting | `FEATURE_RATE_LIMITING`    | `true`  | Enable rate limiting     |
| IP Blocking   | `FEATURE_IP_BLOCKING`      | `false` | Enable IP blocking       |

## Example Configuration

\```env

# Feature Flags

FEATURE_AUTH_ENABLED=true
FEATURE_PROFILES_ENABLED=true
FEATURE_ACTIVITY_ENABLED=true
FEATURE_SECURITY_ENABLED=true

# Auth Configuration

AUTH_COOKIE_NAME=auth_token
AUTH_SESSION_DURATION=3600000
AUTH_MAX_LOGIN_ATTEMPTS=5
FEATURE_2FA_ENABLED=false

# Profile Features

FEATURE_AVATAR_UPLOAD=true
FEATURE_SOCIAL_LINKS=true

# Activity Logging

FEATURE_LOG_FAILED_ATTEMPTS=true
FEATURE_LOG_DEVICE_INFO=true
FEATURE_LOG_LOCATION=true

# Security Features

FEATURE_RATE_LIMITING=true
FEATURE_IP_BLOCKING=false
\```

## TypeScript Integration

The feature configuration is fully typed:

\```typescript
type FeatureConfig = {
auth: {
enabled: boolean
cookieName: string
sessionDuration: number
maxLoginAttempts: number
}
profiles: {
enabled: boolean
avatarUpload: boolean
socialLinks: boolean
}
// ... other features
}

// Type-safe access
const duration: number = featureConfig.auth.sessionDuration
\```

## Best Practices

1. **Default to Secure**: Features that might expose sensitive data should default to `false`
2. **Environment Specific**: Use different configurations for development and production
3. **Documentation**: Always document when adding new feature flags
4. **Cleanup**: Remove feature flags that are no longer needed
5. **Testing**: Test both enabled and disabled states of features

## Example Usage in Components

\```typescript
import { featureConfig } from '@/config/features'

export default function ProfilePage() {
  return (
    <div>
      <h1>Profile</h1>
      
      {featureConfig.profiles.avatarUpload && (
        <AvatarUpload />
      )}
      
      {featureConfig.profiles.socialLinks && (
        <SocialLinks />
      )}
    </div>
  )
}
\```

## Example Usage in API Routes

\```typescript
import { featureConfig } from '@/config/features'

export async function login(email: string, password: string) {
  if (!featureConfig.auth.enabled) {
    throw new Error('Authentication is disabled')
  }

if (featureConfig.security.rateLimiting) {
await checkRateLimit(email)
}

// ... login logic
}
\```
